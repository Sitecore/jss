<!DOCTYPE html>
<html lang="en" data-reactroot=""><head><link rel="stylesheet" href="/dist/server.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/dist/client.css"/><link rel="icon" type="image/png" href="/assets/img/favicon-32x32.png"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Sitecore JavaScript Services Documentation"/><title data-react-helmet="true">Setup Checklist | Sitecore JSS Documentation</title></head><body><div id="app"><section class="ant-layout" id="app-wrap"><header class="ant-layout-header"><div class="ant-row ant-row-start" style="padding:30px"><a style="flex:300px" href="/"><img src="/assets/img/sitecore-logo.svg" height="53px" alt="Sitecore JSS" class="logo"/></a><ul flex="auto" style="border-bottom:none" class="ant-menu ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/features">Features</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/docs">Documentation</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child ant-menu-item-selected" role="menuitem"><a class="nav-link" href="/guides">Guides</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.sitecore.com/getting-started/developer-trial">Trial</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/community">Community</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item get-started-button ant-menu-item-only-child" role="menuitem"><a class="btn btn-secondary btn-sm float-left text-white" href="/docs/getting-started/quick-start">Get Started</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></header><div class="main-wrapper"><section class="ant-layout border-bottom"><section class="jumbo-container jumbo-container-short bg-light"><div class="default"><div class="circleContainer"><div class="circleContainer-outer-top"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circ circ_right circle-fg-right-lg bg-success" id="defaultimage"><img src="/assets/img/transparent-1x1.png"/></div></div><div class="circleContainer-inner-secondary"><div class="circ circ_right circle-fg-right-lg-sub bg-primary"></div></div></div></div><div class="circleContainer-outer-bottom"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circle circle-fg-left-md bg-success"></div></div></div></div></div><div class="shapes-wrapper"><div class="outer-shape container"><div class="inner-shape row"><div class="content-wrapper col-12 col-md-9 min-height"><div class="content-wrapper-inner"><h1 class="title mb-3">Guides, Patterns, &amp; Recommended Practices</h1><p class="copy mb-0 p-0">A collection of learnings and recommendations from our developers and community, based on learnings from real-world projects.</p></div></div></div></div></div></div></section></section><div class="ant-row ant-row-space-between" style="margin-left:-20px;margin-right:-20px;flex-wrap:nowrap;margin:30px"><div style="padding-left:20px;padding-right:20px;flex:0 0 300px" class="ant-col"><aside><div class="side-nav"><ul class="ant-menu ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="0$Menu" aria-haspopup="true" title="Thinking in JSS">Thinking in JSS<i class="ant-menu-submenu-arrow"></i></div><ul id="0$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/thinking-in-jss/js-vs-jss">JS Apps vs JSS Apps</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/thinking-in-jss/terminology">Sitecore Terminology &amp; Concepts</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/thinking-in-jss/project-structure">Project Structure</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/thinking-in-jss/developer-workflows">Developer Workflows</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="1$Menu" aria-haspopup="true" title="Code Patterns">Code Patterns<i class="ant-menu-submenu-arrow"></i></div><ul id="1$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/code-patterns/layout-service">Layout Service Customization</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/code-patterns/media-handling">Media Handling</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/code-patterns/routing">Routing</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/code-patterns/ssr">SSR Recommendations</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="2$Menu" aria-haspopup="true" title="Multisite Scenarios">Multisite Scenarios<i class="ant-menu-submenu-arrow"></i></div><ul id="2$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/multisite/content-patterns">Content Patterns</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/multisite/implementation-patterns">Implementation Patterns</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/multisite/multi-language-support">Multi-Lingual Support</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/multisite/sxa-integration">SXA Integration</a></li></ul></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:24px"><a href="/guides/performance">Performance</a></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="4$Menu" aria-haspopup="true" title="Debugging">Debugging<i class="ant-menu-submenu-arrow"></i></div><ul id="4$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/error-handling-debugging/setup-checklist">Setup Checklist</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a class="active" aria-current="page" href="/guides/error-handling-debugging/common-pitfalls">Common Pitfalls</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/error-handling-debugging/js-validation">Validation in JS</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/error-handling-debugging/http-status-codes">HTTP Status Codes</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/error-handling-debugging/debugging-help">Debugging Help</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="5$Menu" aria-haspopup="true" title="GraphQL">GraphQL<i class="ant-menu-submenu-arrow"></i></div><ul id="5$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/graphql/extending-graphql">Extending GraphQL</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/graphql/graphql-security">Security</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/graphql/query-recipes">Query Recipes</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="6$Menu" aria-haspopup="true" title="ðŸš§ Work in Progress">ðŸš§ Work in Progress<i class="ant-menu-submenu-arrow"></i></div><ul id="6$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/wip/deployment-topologies">Deployment Topologies</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/guides/wip/migration-guide">Migration Guide</a></li></ul></li></ul><div class="navbar-nav bd-navbar-nav flex-column"></div></div></aside></div><div style="padding-left:20px;padding-right:20px;flex:auto" class="ant-col"><main><h1>Setup Checklist</h1><section class="toc-container"><div class="title">In this guide</div><div match="[object Object]" location="[object Object]" history="[object Object]"><div class="toc">
<ul>
<li><a href="#node-proxy--calling-external-apis">Node Proxy & calling external APIs</a></li>
<li><a href="#tracking-identity-during-ajax-calls">Tracking identity during AJAX calls</a></li>
<li><a href="#gotchas-of-hybrid-headless">Gotchas of "Hybrid Headless"</a><ul>
<li><a href="#sample-scenario">Sample scenario</a></li>
</ul>
</li>
<li><a href="#naming-conventions">Naming conventions</a><ul>
<li><a href="#recommended-practices">Recommended Practices</a></li>
<li><a href="#placeholder-naming-conventions">Placeholder naming conventions</a></li>
</ul>
</li>
</ul>
</div>

</div></section><div class="article markdown-section" match="[object Object]" location="[object Object]" history="[object Object]"><h2 id="node-proxy--calling-external-apis">Node Proxy &amp; calling external APIs</h2>
<p>Avoid proxying external API calls through Node.</p>
<p>If you are using the Headless Node Proxy topology, and your front-end code needs to make a call for something other than rendering JSS components (ex. Sitecore Services Client or a custom API), add this path to <code>config.pathRewriteExcludeRoutes</code> value in your <a href="https://github.com/Sitecore/jss/blob/dev/samples/node-headless-ssr-proxy/config.js">headless proxy configuration</a>.</p>
<p>These â€˜ignoredâ€™ paths are reverse proxied to Sitecore instead of being treated as pages to attempt to render with Layout Service.</p>
<hr />
<h2 id="tracking-identity-during-ajax-calls">Tracking identity during AJAX calls</h2>
<p>When using fetch() to ajax data from the server, cookies are not sent by default, and cookies need to be sent to tell the server the identity of the current user. Use the <code>init</code> parameter to make fetch send cookies.</p>
<p>Reference: developer.mozilla.org - fetch Parameters</p>
<pre><code class="javascript language-javascript">fetch(url, {
  credentials: 'same-origin'
});
</code></pre>
<hr />
<h2 id="gotchas-of-hybrid-headless">Gotchas of "Hybrid Headless"</h2>
<p>Most data necessary to render a page in JSS can be obtained by making calls to the Layout Service API. However, some data doesn't flow over the API because it's dynamic and processed on-the-fly.</p>
<ul>
<li>media URLs for media content populated by Content Authors</li>
<li>visitor identification, which enables tracking and personalization</li>
<li>dictionary values for translations in multi-lingual apps</li>
</ul>
<blockquote>
  <p>To see the complete list of routes that flow directly to the Sitecore host, check <code>config.pathRewriteExcludeRoutes</code> value in your <a href="https://github.com/Sitecore/jss/blob/dev/samples/node-headless-ssr-proxy/config.js">headless proxy configuration</a>.</p>
</blockquote>
<h3 id="sample-scenario">Sample scenario</h3>
<p>Possible scenarios where these differences from a completely headless system would need to be accounted for include:</p>
<ul>
<li>wanting to host the Sitecore Content Delivery server behind an API Management Gateway</li>
<li>wanting to host the front-end portion of a JSS application in a CDN</li>
</ul>
<hr />
<h2 id="naming-conventions">Naming conventions</h2>
<h3 id="recommended-practices">Recommended Practices</h3>
<ul>
<li>Define and export only one component per file.</li>
<li>Keep filenames and exported component names in sync.</li>
</ul>
<p>It's easy to overlook updating filenames when renaming components. Although this will not break your build, it will made it difficult to navigate around the solution, especially as it grows.</p>
<p>In this example, the Sitecore definition file is named <code>Welcome.sitecore.js</code>, but the manifest defines a component named <code>Article</code>, and this functions fine.<br />
<img src="/assets/img/guides/solution-structure/filename-and-export-do-not-match.png" alt="Article component" /></p>
<p>But this makes it impossible to navigate to files by component name, which is really convenient in large solutions.<br />
<img src="/assets/img/guides/solution-structure/search-file-by-name.png" alt="Search for file by name" /></p>
<h3 id="placeholder-naming-conventions">Placeholder naming conventions</h3>
<ul>
<li>Multiple placeholders with same name within the same JSS component are not allowed.</li>
<li>Multiple static placeholders with the name within the same Sitecore instance are not allowed (static placeholders are typically root-level placeholders like <code>jss-main</code>). This means that multiple JSS apps using the same root-level placeholders will cause conflicts if deployed to the same Sitecore instance. To avoid this, it is recommended to adopt a naming convention that differentiates apps. For example, using the app name as a prefix for placeholders.</li>
</ul>
</div><hr/><div>Found a problem? Have something to add?Â <a href="https://github.com/Sitecore/jss/edit/guides/docs/data/routes/guides/error-handling-debugging/setup-checklist/en.md">Edit this on GitHub</a></div></main></div></div></div><footer class="ant-layout-footer"><div class="ant-row ant-row-center" style="margin-left:-16px;margin-right:-16px"><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/features">Features</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/features/why-jss">Why JSS?</a><a class="nav-link small text-white" href="/features/why-sitecore">Why Sitecore?</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/docs">Documentation</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/docs/getting-started/quick-start">Getting Started</a><a class="nav-link small text-white" href="/docs/fundamentals/architecture">Fundamentals</a><a class="nav-link small text-white" href="/docs/client-frameworks/react/react-overview">Client Frameworks</a><a class="nav-link small text-white" href="/docs/techniques/mvc-integration/javascript-rendering">Techniques</a><a class="nav-link small text-white" href="/release-notes">Release Notes</a><a class="nav-link small text-white" href="/help">FAQs</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a href="https://www.sitecore.com/getting-started/developer-trial" target="_blank" rel="noopener noreferrer" class="nav-link text-uppercase small text-white font-weight-bold">Start Trial</a></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/community">Community</a><nav class="nav flex-column"><a href="#" class="nav-link small text-white">Sitecore Community</a><a href="slack://channel?team=T09SHRBNU&amp;id=C7JT0NRQW" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" focusable="false"><title>Slack</title><path fill="currentColor" d="M210.787 234.832l68.31-22.883 22.1 65.977-68.309 22.882z"></path><path d="M490.54 185.6C437.7 9.59 361.6-31.34 185.6 21.46S-31.3 150.4 21.46 326.4 150.4 543.3 326.4 490.54 543.34 361.6 490.54 185.6zM401.7 299.8l-33.15 11.05 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.38-68.36 22.92 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.43-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.5-13.92 2.87-29.06 16.78-33.56l33.12-11.03-22.1-65.9-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.48-13.93 2.89-29.07 16.81-33.58l33.15-11.05-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.46 34.38 68.36-22.92-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.47 34.42 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.87 29.06-16.78 33.56L329.7 194.6l22.1 65.9 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.88 29.07-16.81 33.57z" fill="currentColor"></path></svg>JSS Slack</a><a href="https://sitecore.stackexchange.com/tags/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><title>Sitecore StackExchange</title><path fill="currentColor" d="M22.4 57.5h74.8v15.4H22.4z"></path><path fill="currentColor" d="M22.4 37.6h74.8V53H22.4z"></path><path fill="currentColor" d="M85.5 17H34.4c-6.6 0-12 5.5-12 12.3v4h74.8v-4C97.2 22.5 92 17 85.5 17z"></path><path fill="currentColor" d="M22.4 77.3v4c0 6.8 5.4 12.3 12 12.3h32v16.3l15.8-16.3h3.5c6.6 0 12-5.5 12-12.3v-4H22.4z"></path></svg>Stack Exchange</a><a href="https://github.com/sitecore/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" fill="currentColor" fill-rule="evenodd"></path></svg>Github</a></nav></div></div><div class="ant-row ant-row-center" style="margin:30px"><div class="ant-col footer-copyright small">Â© Copyright <!-- -->2020<!-- -->, Sitecore. All Rights Reserved.</div><div class="ant-col footer-copyright small"><a href="https://www.sitecore.com/trust" class="pl-2 pr-2" target="_blank" rel="noopener noreferrer">Legal</a><a href="https://www.sitecore.com/trust/privacy-policy" class="pl-2" target="_blank" rel="noopener noreferrer">Privacy</a></div></div></footer></section></div><script>window.__data={"sitecore":{"context":{"pageEditing":false,"site":{"name":"JssDisconnectedLayoutService"},"pageState":"normal","language":"en"},"route":{"databaseName":"available-in-connected-mode","deviceId":"available-in-connected-mode","itemId":"available-in-connected-mode","itemLanguage":"en","itemVersion":1,"layoutId":"available-in-connected-mode","templateId":"available-in-connected-mode","templateName":"Docs Route","name":"common-pitfalls","fields":{"title":{"value":"Common Pitfalls"},"editLink":{"value":{"text":"Edit this on GitHub","href":"https://github.com/Sitecore/jss/edit/guides/docs/data/routes/guides/error-handling-debugging/common-pitfalls/en.md"}}},"placeholders":{"jssdocs-header":[{"uid":"{317D3590-D67F-584A-8439-EDDEB0D02BC1}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"start","padding":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{A24DF7DF-2509-5C4A-9264-E3A2B3DFFFE4}","componentName":"Logo","dataSource":"available-in-connected-mode","params":{"flex":"300px"},"fields":{}},{"uid":"{F548DAA3-9413-53FA-B392-05A1335D969F}","componentName":"MainNav","dataSource":"available-in-connected-mode","params":{"flex":"auto"},"fields":{"selectedMenuItem":{"value":"guides"}}}]}}],"jssdocs-main":[{"uid":"{22DA6CDC-9BD4-597F-B631-BBE8D8D0E436}","componentName":"ArticleContainer","dataSource":"available-in-connected-mode","params":{},"fields":{},"placeholders":{"jssdocs-jumbo":[{"uid":"{F9E2AE72-75B9-5B73-A3BD-D2D36317C6F0}","componentName":"FeatureJumboShort","dataSource":"available-in-connected-mode","params":{},"fields":{"image":{"value":{"src":"/assets/img/transparent-1x1.png"}},"imageclass":{"value":"defaultimage"},"csscolorclass":{"value":"default"},"title":{"value":"Guides, Patterns, & Recommended Practices"},"text":{"value":"A collection of learnings and recommendations from our developers and community, based on learnings from real-world projects."}}}],"jssdocs-aside":[{"uid":"{7E650C24-5578-56F4-8A51-F55EE012A3E0}","componentName":"SideNav","dataSource":"available-in-connected-mode","params":{},"fields":{"navType":{"value":"guides"},"useSearch":{"value":"false"}}}],"jssdocs-content":[{"uid":"{9A6119E7-72F1-52A7-92ED-E0F80BF1BFB5}","componentName":"Guide","dataSource":"available-in-connected-mode","params":{},"fields":{"text":{"value":"<h2 id=\"node-proxy--calling-external-apis\">Node Proxy &amp; calling external APIs</h2>\n<p>Avoid proxying external API calls through Node.</p>\n<p>If you are using the Headless Node Proxy topology, and your front-end code needs to make a call for something other than rendering JSS components (ex. Sitecore Services Client or a custom API), add this path to <code>config.pathRewriteExcludeRoutes</code> value in your <a href=\"https://github.com/Sitecore/jss/blob/dev/samples/node-headless-ssr-proxy/config.js\">headless proxy configuration</a>.</p>\n<p>These â€˜ignoredâ€™ paths are reverse proxied to Sitecore instead of being treated as pages to attempt to render with Layout Service.</p>\n<hr />\n<h2 id=\"tracking-identity-during-ajax-calls\">Tracking identity during AJAX calls</h2>\n<p>When using fetch() to ajax data from the server, cookies are not sent by default, and cookies need to be sent to tell the server the identity of the current user. Use the <code>init</code> parameter to make fetch send cookies.</p>\n<p>Reference: developer.mozilla.org - fetch Parameters</p>\n<pre><code class=\"javascript language-javascript\">fetch(url, {\n  credentials: 'same-origin'\n});\n</code></pre>\n<hr />\n<h2 id=\"gotchas-of-hybrid-headless\">Gotchas of \"Hybrid Headless\"</h2>\n<p>Most data necessary to render a page in JSS can be obtained by making calls to the Layout Service API. However, some data doesn't flow over the API because it's dynamic and processed on-the-fly.</p>\n<ul>\n<li>media URLs for media content populated by Content Authors</li>\n<li>visitor identification, which enables tracking and personalization</li>\n<li>dictionary values for translations in multi-lingual apps</li>\n</ul>\n<blockquote>\n  <p>To see the complete list of routes that flow directly to the Sitecore host, check <code>config.pathRewriteExcludeRoutes</code> value in your <a href=\"https://github.com/Sitecore/jss/blob/dev/samples/node-headless-ssr-proxy/config.js\">headless proxy configuration</a>.</p>\n</blockquote>\n<h3 id=\"sample-scenario\">Sample scenario</h3>\n<p>Possible scenarios where these differences from a completely headless system would need to be accounted for include:</p>\n<ul>\n<li>wanting to host the Sitecore Content Delivery server behind an API Management Gateway</li>\n<li>wanting to host the front-end portion of a JSS application in a CDN</li>\n</ul>\n<hr />\n<h2 id=\"naming-conventions\">Naming conventions</h2>\n<h3 id=\"recommended-practices\">Recommended Practices</h3>\n<ul>\n<li>Define and export only one component per file.</li>\n<li>Keep filenames and exported component names in sync.</li>\n</ul>\n<p>It's easy to overlook updating filenames when renaming components. Although this will not break your build, it will made it difficult to navigate around the solution, especially as it grows.</p>\n<p>In this example, the Sitecore definition file is named <code>Welcome.sitecore.js</code>, but the manifest defines a component named <code>Article</code>, and this functions fine.<br />\n<img src=\"/assets/img/guides/solution-structure/filename-and-export-do-not-match.png\" alt=\"Article component\" /></p>\n<p>But this makes it impossible to navigate to files by component name, which is really convenient in large solutions.<br />\n<img src=\"/assets/img/guides/solution-structure/search-file-by-name.png\" alt=\"Search for file by name\" /></p>\n<h3 id=\"placeholder-naming-conventions\">Placeholder naming conventions</h3>\n<ul>\n<li>Multiple placeholders with same name within the same JSS component are not allowed.</li>\n<li>Multiple static placeholders with the name within the same Sitecore instance are not allowed (static placeholders are typically root-level placeholders like <code>jss-main</code>). This means that multiple JSS apps using the same root-level placeholders will cause conflicts if deployed to the same Sitecore instance. To avoid this, it is recommended to adopt a naming convention that differentiates apps. For example, using the app name as a prefix for placeholders.</li>\n</ul>\n"},"toc":{"value":"<div class=\"toc\">\n<ul>\n<li><a href=\"#node-proxy--calling-external-apis\">Node Proxy & calling external APIs</a></li>\n<li><a href=\"#tracking-identity-during-ajax-calls\">Tracking identity during AJAX calls</a></li>\n<li><a href=\"#gotchas-of-hybrid-headless\">Gotchas of \"Hybrid Headless\"</a><ul>\n<li><a href=\"#sample-scenario\">Sample scenario</a></li>\n</ul>\n</li>\n<li><a href=\"#naming-conventions\">Naming conventions</a><ul>\n<li><a href=\"#recommended-practices\">Recommended Practices</a></li>\n<li><a href=\"#placeholder-naming-conventions\">Placeholder naming conventions</a></li>\n</ul>\n</li>\n</ul>\n</div>\n\n"}}}]}}],"jssdocs-footer":[{"uid":"{C6B264FA-DCC7-577F-917E-A4B39582A322}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","compactGutter":"24","fullSizeGutter":"32"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{4796E355-1E5B-5414-81F6-85117BF7C27D}","componentName":"FooterNav","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}},{"uid":"{0B1272C5-60D7-5040-9569-68F338C4DA65}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","margin":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{8FF8A9D4-8077-548D-90AD-B8283F195539}","componentName":"Disclaimers","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}}]}}},"viewBag":{}};</script><script src="/assets/js/highlight.pack.js"></script><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script src="/dist/client.bundle.js"></script></body></html>